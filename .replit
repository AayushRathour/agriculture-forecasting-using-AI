# Replit Configuration for Bhoomi Puthra Django Application
run = "python manage.py migrate && python manage.py collectstatic --noinput && gunicorn agri_forecast.wsgi:application --bind 0.0.0.0:8000"

# Entry point for the application
entrypoint = "manage.py"

# Language configuration
[languages.python3]
pattern = "**/*.py"

[languages.python3.languageServer]
start = "pylsp"

# Nix configuration
[nix]
channel = "stable-23_11"

# Environment setup
[env]
PYTHONPATH = "${REPL_HOME}:${PYTHONPATH}"
DJANGO_SETTINGS_MODULE = "agri_forecast.settings"

# Deployment configuration
[deployment]
run = ["sh", "-c", "python manage.py migrate && python manage.py collectstatic --noinput && gunicorn agri_forecast.wsgi:application --bind 0.0.0.0:8000 --workers 2"]
deploymentTarget = "cloudrun"

# Port configuration
[[ports]]
localPort = 8000
externalPort = 80
